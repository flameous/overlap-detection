
# build image

```
docker build -t overlaps .
```

# run container
```
docker run -p 8080:8080 -v `pwd`:/host_dir/ -d overlaps
```

# Текст ТЗ
Необходимо написать сервис, который наблюдает за определенной папкой и, в случае появления в ней новых файлов, запускает процесс обработки, описаный ниже. Для сервиса нужно написать Dockerfile и приложить описание того, как его нужно запустить. В сопроводительном письме важно описать, как вы видите архитектуру использования данного сервиса — как другие сервисы могут узнавать об обработке новых файлов и прогрессе обработки?

При появлении нового файла, сервис должен выполнять следущее задание:

В датасете ниже лежат отрезки (stepid), из которых составляются полилинии (треки
перемещений транспорта — routeid). Координаты отрезков — географические (lon, lat).
Дополнительные категории в датасете: age_group, foreign — характеристики
перемещающегося (возраст, приезжий или нет). Возможна ситуация, при которой отрезки
разной длины могут накладываться друг на друга. Необходимо создать тест на выявление таких отрезков в данном датасете. К тесту необходимо приложить методологию.

# Принцип работы

* Отдельный поток мониторит указанную директорию, 
и при обнаружении новых либо изменённых csv файлов, отправляет их в очередь обработки
 
* Основной поток парсит csv-шный файл, из исходных данных собирается массив отрезков
(Из-за малых расстояний решено считать широту и долготу как координаты точек на плоскости),
у каждого отрезка вычисляется примерная формула прямой.
Создаётся словарь (ключ: формула прямой, значение: массив отрезков),
отрезки с одинаковыми формулами собираются в массивы.
В каждом массиве отрезки проверяются между собой на наложения. 

* Сервер на 8080-м порту отдаёт список обработанных файлов `/get_files_list`
и массив наложенных отрезков у каждого обработанного файла (параметр _"file"_) `/get_overlaps?file=file.csv`
